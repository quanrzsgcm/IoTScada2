import React from 'react';
import Chart from 'react-apexcharts';

const LineChart = () => {
  const data = [
    {
      power: '76.00',
      timestamp: '2023-10-27T03:46:30.689Z'
    },
    {
      power: '41.00',
      timestamp: '2023-10-27T04:05:51.315Z'
    },
    {
      power: '69.00',
      timestamp: '2023-10-27T04:06:07.752Z'
    },
    {
      power: '59.00',
      timestamp: '2023-10-27T04:11:20.578Z'
    },
    {
      power: '89.00',
      timestamp: '2023-10-27T04:16:08.515Z'
    },
    {
      power: '27.00',
      timestamp: '2023-10-27T04:16:14.023Z'
    },
    {
      power: '78.00',
      timestamp: '2023-10-27T04:16:19.350Z'
    },
    {
      power: '76.00',
      timestamp: '2023-10-27T04:16:25.099Z'
    },
    {
      power: '79.00',
      timestamp: '2023-10-27T04:16:30.424Z'
    },
    {
      power: '19.00',
      timestamp: '2023-10-27T04:16:35.821Z'
    },
    {
      power: '67.00',
      timestamp: '2023-10-27T04:16:41.170Z'
    },
    {
      power: '2.00',
      timestamp: '2023-10-27T04:16:46.602Z'
    },
    {
      power: '9.00',
      timestamp: '2023-10-27T04:16:51.973Z'
    },
    {
      power: '22.00',
      timestamp: '2023-10-27T04:16:57.331Z'
    },
    {
      power: '54.00',
      timestamp: '2023-10-27T04:17:02.700Z'
    },
    {
      power: '37.00',
      timestamp: '2023-10-27T04:17:08.061Z'
    },
    {
      power: '71.00',
      timestamp: '2023-10-27T04:17:13.431Z'
    },
    {
      power: '87.00',
      timestamp: '2023-10-27T04:17:18.810Z'
    },
    {
      power: '44.00',
      timestamp: '2023-10-27T04:17:24.179Z'
    },
    {
      power: '24.00',
      timestamp: '2023-10-27T04:17:29.520Z'
    },
    {
      power: '94.00',
      timestamp: '2023-10-27T04:17:35.001Z'
    },
    {
      power: '85.00',
      timestamp: '2023-10-27T04:17:40.305Z'
    },
    {
      power: '9.00',
      timestamp: '2023-10-27T04:17:45.678Z'
    },
    {
      power: '77.00',
      timestamp: '2023-10-27T04:17:51.024Z'
    },
    {
      power: '54.00',
      timestamp: '2023-10-27T04:17:56.374Z'
    },
    {
      power: '72.00',
      timestamp: '2023-10-27T04:18:01.726Z'
    },
    {
      power: '21.00',
      timestamp: '2023-10-27T04:18:07.056Z'
    },
    {
      power: '76.00',
      timestamp: '2023-10-27T04:18:12.432Z'
    },
    {
      power: '86.00',
      timestamp: '2023-10-27T04:18:17.750Z'
    },
    {
      power: '3.00',
      timestamp: '2023-10-27T04:18:23.103Z'
    },
    {
      power: '81.00',
      timestamp: '2023-10-27T04:18:28.526Z'
    },
    {
      power: '10.00',
      timestamp: '2023-10-27T04:18:33.855Z'
    },
    {
      power: '61.00',
      timestamp: '2023-10-27T04:18:39.210Z'
    },
    {
      power: '10.00',
      timestamp: '2023-10-27T04:18:44.656Z'
    },
    {
      power: '51.00',
      timestamp: '2023-10-27T04:18:49.991Z'
    },
    {
      power: '78.00',
      timestamp: '2023-10-27T04:18:56.331Z'
    },
    {
      power: '42.00',
      timestamp: '2023-10-27T04:21:55.026Z'
    },
    {
      power: '82.00',
      timestamp: '2023-10-27T04:31:40.756Z'
    },
    {
      power: '18.00',
      timestamp: '2023-10-27T09:16:22.805Z'
    }
  ];

  // Transform data into the required format
  const transformedData = {
    options: {
      chart: {
        id: 'line-chart',
      },
      stroke: {
        curve: 'straight',
        width: 1,
      },
      xaxis: {
        categories: data.map(item => new Date(item.timestamp).toLocaleTimeString()),
      },
    },
    series: [
      {
        name: 'power',
        data: data.map(item => parseFloat(item.power)),
      },
    ],
  };

  return (
    <div>
      <Chart
        options={transformedData.options}
        series={transformedData.series}
        type="line"
        width="500"
      />
    </div>
  );
};

export default LineChart;
